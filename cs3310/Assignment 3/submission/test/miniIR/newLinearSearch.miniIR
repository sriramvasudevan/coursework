MAIN
	MOVE TEMP 0 
	BEGIN
		MOVE TEMP 1 
		BEGIN
			RETURN CALL Create_LS()
		END
		HLOAD TEMP 2 TEMP 1 0
		HLOAD TEMP 3 TEMP 2 4
		MOVE TEMP 4 10
		RETURN CALL TEMP 3( TEMP 1 TEMP 4 )
	END
	PRINT TEMP 0
END

Create_LS [0]
BEGIN
	MOVE TEMP 0 HALLOCATE 16
	HSTORE TEMP 0 0 LS_Search
	HSTORE TEMP 0 4 LS_Start
	HSTORE TEMP 0 8 LS_Init
	HSTORE TEMP 0 12 LS_Print

	MOVE TEMP 1 HALLOCATE 12
	HSTORE TEMP 1 0 TEMP 0

	MOVE TEMP 2 HALLOCATE 4
	MOVE TEMP 2 0
	HSTORE TEMP 1 4 TEMP 2
	MOVE TEMP 3 HALLOCATE 4
	MOVE TEMP 3 0
	HSTORE TEMP 1 8 TEMP 3

	RETURN TEMP 1
END

LS_Start [2]
BEGIN
	MOVE TEMP 4 
	BEGIN
		MOVE TEMP 5 TEMP 0
		HLOAD TEMP 6 TEMP 5 0
		HLOAD TEMP 7 TEMP 6 8
		MOVE TEMP 8 TEMP 1
		RETURN CALL TEMP 7( TEMP 5 TEMP 8 )
	END
	MOVE TEMP 3 TEMP 4
	MOVE TEMP 9 
	BEGIN
		MOVE TEMP 10 TEMP 0
		HLOAD TEMP 11 TEMP 10 0
		HLOAD TEMP 12 TEMP 11 12

		RETURN CALL TEMP 12( TEMP 10 )
	END
	MOVE TEMP 2 TEMP 9
	MOVE TEMP 13 9999
	PRINT TEMP 13
	MOVE TEMP 14 
	BEGIN
		MOVE TEMP 15 TEMP 0
		HLOAD TEMP 16 TEMP 15 0
		HLOAD TEMP 17 TEMP 16 0
		MOVE TEMP 18 8
		RETURN CALL TEMP 17( TEMP 15 TEMP 18 )
	END
	PRINT TEMP 14
	MOVE TEMP 19 
	BEGIN
		MOVE TEMP 20 TEMP 0
		HLOAD TEMP 21 TEMP 20 0
		HLOAD TEMP 22 TEMP 21 0
		MOVE TEMP 23 12
		RETURN CALL TEMP 22( TEMP 20 TEMP 23 )
	END
	PRINT TEMP 19
	MOVE TEMP 24 
	BEGIN
		MOVE TEMP 25 TEMP 0
		HLOAD TEMP 26 TEMP 25 0
		HLOAD TEMP 27 TEMP 26 0
		MOVE TEMP 28 17
		RETURN CALL TEMP 27( TEMP 25 TEMP 28 )
	END
	PRINT TEMP 24
	MOVE TEMP 29 
	BEGIN
		MOVE TEMP 30 TEMP 0
		HLOAD TEMP 31 TEMP 30 0
		HLOAD TEMP 32 TEMP 31 0
		MOVE TEMP 33 50
		RETURN CALL TEMP 32( TEMP 30 TEMP 33 )
	END
	PRINT TEMP 29
	MOVE TEMP 34 55
	RETURN TEMP 34
END

LS_Print [1]
BEGIN
	MOVE TEMP 2 1
	MOVE TEMP 1 TEMP 2
L0
	CJUMP LT TEMP 1 
	BEGIN
		MOVE TEMP 3 
		BEGIN
			HLOAD TEMP 4 TEMP 0 8
			RETURN TEMP 4
		END
		RETURN TEMP 3
	END L1
	MOVE TEMP 5 
	BEGIN
		MOVE TEMP 6 
		BEGIN
			HLOAD TEMP 7 TEMP 0 4
			RETURN TEMP 7
		END
		MOVE TEMP 8 PLUS 1 TEMP 1
		MOVE TEMP 9 TIMES 4 TEMP 8
		MOVE TEMP 10 PLUS TEMP 6 TEMP 9
		HLOAD TEMP 11 TEMP 10 0
		RETURN TEMP 11
	END

	PRINT TEMP 5
	MOVE TEMP 12 PLUS TEMP 1 1
	MOVE TEMP 1 TEMP 12
	JUMP L0

L1
	NOOP
	MOVE TEMP 13 0
	RETURN TEMP 13
END

LS_Search [2]
BEGIN
	MOVE TEMP 8 1
	MOVE TEMP 7 TEMP 8
	MOVE TEMP 9 0
	MOVE TEMP 3 TEMP 9
	MOVE TEMP 10 0
	MOVE TEMP 4 TEMP 10
L2
	CJUMP LT TEMP 7 
	BEGIN
		MOVE TEMP 11 
		BEGIN
			HLOAD TEMP 12 TEMP 0 8
			RETURN TEMP 12
		END
		RETURN TEMP 11
	END L3
	MOVE TEMP 13 
	BEGIN
		MOVE TEMP 14 
		BEGIN
			HLOAD TEMP 15 TEMP 0 4
			RETURN TEMP 15
		END
		MOVE TEMP 16 PLUS 1 TEMP 7
		MOVE TEMP 17 TIMES 4 TEMP 16
		MOVE TEMP 18 PLUS TEMP 14 TEMP 17
		HLOAD TEMP 19 TEMP 18 0
		RETURN TEMP 19
	END

	MOVE TEMP 6 TEMP 13
	MOVE TEMP 20 PLUS TEMP 1 1
	MOVE TEMP 5 TEMP 20
	CJUMP LT TEMP 6 TEMP 1 L4
	MOVE TEMP 21 0
	MOVE TEMP 2 TEMP 21
	JUMP L5
L4
	CJUMP 	BEGIN
		RETURN MINUS 1 
	BEGIN
		MOVE TEMP 23 LT TEMP 6 TEMP 5
		RETURN TEMP 23
	END	END L6
	MOVE TEMP 24 0
	MOVE TEMP 2 TEMP 24
	JUMP L7
L6
	MOVE TEMP 25 1
	MOVE TEMP 3 TEMP 25
	MOVE TEMP 26 1
	MOVE TEMP 4 TEMP 26
	MOVE TEMP 27 
	BEGIN
		HLOAD TEMP 28 TEMP 0 8
		RETURN TEMP 28
	END
	MOVE TEMP 7 TEMP 27
L7
	NOOP
L5
	NOOP
	MOVE TEMP 29 PLUS TEMP 7 1
	MOVE TEMP 7 TEMP 29
	JUMP L2

L3
	NOOP
	MOVE TEMP 30 TEMP 4
	RETURN TEMP 30
END

LS_Init [2]
BEGIN
	MOVE TEMP 6 TEMP 1
	HSTORE TEMP 0 8 TEMP 6
	MOVE TEMP 7 
	BEGIN
		MOVE TEMP 8 TEMP 1
		MOVE TEMP 9 HALLOCATE TIMES 4 PLUS 1 TEMP 8
		HSTORE TEMP 9 0 TEMP 8
		MOVE TEMP 10 0
L8
		CJUMP LT TEMP 10 TEMP 8 L9
		MOVE TEMP 11 PLUS 1 TEMP 10
		MOVE TEMP 12 TIMES 4 TEMP 11
		MOVE TEMP 13 PLUS TEMP 9 TEMP 12
		HSTORE TEMP 13 0 0
		MOVE TEMP 10 PLUS TEMP 10 1
		JUMP L8
L9
		NOOP
		RETURN TEMP 9
	END
	HSTORE TEMP 0 4 TEMP 7
	MOVE TEMP 14 1
	MOVE TEMP 4 TEMP 14
	MOVE TEMP 15 PLUS 
	BEGIN
		HLOAD TEMP 16 TEMP 0 8
		RETURN TEMP 16
	END 1
	MOVE TEMP 5 TEMP 15
L9
	CJUMP LT TEMP 4 
	BEGIN
		MOVE TEMP 17 
		BEGIN
			HLOAD TEMP 18 TEMP 0 8
			RETURN TEMP 18
		END
		RETURN TEMP 17
	END L10
	MOVE TEMP 19 TIMES 2 TEMP 4
	MOVE TEMP 3 TEMP 19
	MOVE TEMP 20 MINUS TEMP 5 3

	MOVE TEMP 2 TEMP 20
	MOVE TEMP 21 PLUS 1 TEMP 4
	MOVE TEMP 22 PLUS TEMP 3 TEMP 2
	MOVE TEMP 23 TIMES 4 TEMP 21
	HLOAD TEMP 24 TEMP 0 4
	MOVE TEMP 25 PLUS TEMP 24 TEMP 23
	HSTORE TEMP 25 0 TEMP 22
	HSTORE TEMP 0 4 TEMP 24
	MOVE TEMP 26 PLUS TEMP 4 1
	MOVE TEMP 4 TEMP 26
	MOVE TEMP 27 MINUS TEMP 5 1

	MOVE TEMP 5 TEMP 27
	JUMP L9

L10
	NOOP
	MOVE TEMP 28 0
	RETURN TEMP 28
END

