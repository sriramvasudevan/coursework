MAIN
	MOVE TEMP 500 CALL Create_MT4 ( )
	MOVE TEMP 1 TEMP 500
	MOVE TEMP 501 TEMP 1
	HLOAD TEMP 2 TEMP 501 0
	MOVE TEMP 502 TEMP 2
	HLOAD TEMP 3 TEMP 502 0
	MOVE TEMP 4 1
	MOVE TEMP 5 2
	MOVE TEMP 6 3
	MOVE TEMP 7 4
	MOVE TEMP 8 5
	MOVE TEMP 9 6
	MOVE TEMP 503 TEMP 1
	MOVE TEMP 504 TEMP 4
	MOVE TEMP 505 TEMP 5
	MOVE TEMP 506 TEMP 6
	MOVE TEMP 507 TEMP 7
	MOVE TEMP 508 TEMP 8
	MOVE TEMP 509 TEMP 9
	MOVE TEMP 510 CALL TEMP 3 ( TEMP 503 TEMP 504 TEMP 505 TEMP 506 TEMP 507 TEMP 508 TEMP 509 )
	MOVE TEMP 0 TEMP 510
	PRINT TEMP 0
END

Create_MT4 [0]
BEGIN
	MOVE TEMP 511 HALLOCATE 8
	MOVE TEMP 0 TEMP 511
	MOVE TEMP 512 TEMP 0
	MOVE TEMP 513 MT4_Start
	HSTORE TEMP 512 0 TEMP 513
	MOVE TEMP 514 TEMP 0
	MOVE TEMP 515 MT4_Change
	HSTORE TEMP 514 4 TEMP 515
	MOVE TEMP 516 HALLOCATE 4
	MOVE TEMP 1 TEMP 516
	MOVE TEMP 517 TEMP 1
	MOVE TEMP 518 TEMP 0
	HSTORE TEMP 517 0 TEMP 518
	RETURN TEMP 1
END 

MT4_Start [7]
BEGIN
	MOVE TEMP 8 TEMP 1
	PRINT TEMP 8
	MOVE TEMP 9 TEMP 2
	PRINT TEMP 9
	MOVE TEMP 10 TEMP 3
	PRINT TEMP 10
	MOVE TEMP 11 TEMP 4
	PRINT TEMP 11
	MOVE TEMP 12 TEMP 5
	PRINT TEMP 12
	MOVE TEMP 13 TEMP 6
	PRINT TEMP 13
	MOVE TEMP 15 TEMP 0
	MOVE TEMP 519 TEMP 15
	HLOAD TEMP 16 TEMP 519 0
	MOVE TEMP 520 TEMP 16
	HLOAD TEMP 17 TEMP 520 4
	MOVE TEMP 18 TEMP 6
	MOVE TEMP 19 TEMP 5
	MOVE TEMP 20 TEMP 4
	MOVE TEMP 21 TEMP 3
	MOVE TEMP 22 TEMP 2
	MOVE TEMP 23 TEMP 1
	MOVE TEMP 521 TEMP 15
	MOVE TEMP 522 TEMP 18
	MOVE TEMP 523 TEMP 19
	MOVE TEMP 524 TEMP 20
	MOVE TEMP 525 TEMP 21
	MOVE TEMP 526 TEMP 22
	MOVE TEMP 527 TEMP 23
	MOVE TEMP 528 CALL TEMP 17 ( TEMP 521 TEMP 522 TEMP 523 TEMP 524 TEMP 525 TEMP 526 TEMP 527 )
	MOVE TEMP 14 TEMP 528
	MOVE TEMP 7 TEMP 14
	MOVE TEMP 24 TEMP 7
	RETURN TEMP 24
END 

MT4_Change [7]
BEGIN
	MOVE TEMP 7 TEMP 1
	PRINT TEMP 7
	MOVE TEMP 8 TEMP 2
	PRINT TEMP 8
	MOVE TEMP 9 TEMP 3
	PRINT TEMP 9
	MOVE TEMP 10 TEMP 4
	PRINT TEMP 10
	MOVE TEMP 11 TEMP 5
	PRINT TEMP 11
	MOVE TEMP 12 TEMP 6
	PRINT TEMP 12
	MOVE TEMP 13 0
	RETURN TEMP 13
END 
